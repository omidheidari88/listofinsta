{"ast":null,"code":"var _jsxFileName = \"/Users/omid/Documents/GitHub/listofinsta/loi-front/src/modules/User/MongoUser.jsx\";\nimport React, { useContext, useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { UserContext } from '../store/context/ContextManager';\nimport { connect } from 'react-redux';\nimport { actions } from '../actions';\nimport EditUserList from './EditUser';\n\nconst Td = ({\n  metaData,\n  data,\n  updateUser,\n  successUpdate,\n  deleteUser,\n  userState,\n  updateModal\n}) => {\n  const {\n    match\n  } = metaData;\n  const [editable, setEditable] = useState(false);\n  const url = match.url;\n  const {\n    name,\n    avatar,\n    _id,\n    email\n  } = data;\n  const {\n    theme\n  } = useContext(UserContext);\n\n  const updateUserName = async e => {\n    e.preventDefault();\n\n    let status = () => successUpdate;\n\n    await updateUser({\n      id: _id,\n      newName: document.querySelector(`#UID-${_id}`).value\n    });\n\n    status = () => {\n      if (successUpdate) setEditable(false);\n    };\n\n    return status;\n  };\n\n  const editInput = !editable ? name : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    id: `UID-${_id}`,\n    type: \"text\",\n    defaultValue: name,\n    style: {\n      backgroundColor: '#ffeeef'\n    },\n    className: \"m-2 p-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"material-icons btn btn-success btn-sm m-l-2\",\n    onClick: e => updateUserName(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 4\n    }\n  }, \"check\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"material-icons btn btn-danger btn-sm \",\n    onClick: e => setEditable(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 4\n    }\n  }, \"close\"));\n  return /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    className: theme,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    style: {\n      width: '60px',\n      height: '60px'\n    },\n    src: avatar,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  })), /*#__PURE__*/React.createElement(\"td\", {\n    className: theme,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 4\n    }\n  }, editInput), /*#__PURE__*/React.createElement(\"td\", {\n    className: theme,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 4\n    }\n  }, email), /*#__PURE__*/React.createElement(\"td\", {\n    className: theme,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `${url}/${_id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 6\n    }\n  }, \"link\"))), /*#__PURE__*/React.createElement(\"td\", {\n    className: theme,\n    onClick: e => {\n      setEditable(true); // updateModal({status: true, component: 'EditUser'});\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    class: \"material-icons\",\n    style: {\n      color: 'rgb(148, 150, 151)'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, \"edit\")), /*#__PURE__*/React.createElement(\"td\", {\n    className: theme,\n    onClick: e => deleteUser({\n      id: _id\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    class: \"material-icons\",\n    style: {\n      color: 'rgb(148, 150, 151)'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, \"delete\")));\n};\n\nconst mapState = state => ({\n  userState: state.users.items,\n  messages: state.users.messages,\n  errorMessages: state.users.errorMessages,\n  successUpdate: state.users.successUpdate\n});\n\nconst mapDispatch = dispatch => {\n  return {\n    updateUser: payload => {\n      dispatch({\n        type: actions.UPDATE_USER,\n        payload\n      });\n    },\n    deleteUser: payload => {\n      dispatch({\n        type: actions.DELETE_USER,\n        payload\n      });\n    },\n    updateModal: payload => {\n      dispatch({\n        type: actions.UPDATE_MODAL,\n        payload\n      });\n    }\n  };\n};\n\nexport default connect(mapState, mapDispatch)(Td);","map":{"version":3,"sources":["/Users/omid/Documents/GitHub/listofinsta/loi-front/src/modules/User/MongoUser.jsx"],"names":["React","useContext","useState","useEffect","Link","UserContext","connect","actions","EditUserList","Td","metaData","data","updateUser","successUpdate","deleteUser","userState","updateModal","match","editable","setEditable","url","name","avatar","_id","email","theme","updateUserName","e","preventDefault","status","id","newName","document","querySelector","value","editInput","backgroundColor","width","height","color","mapState","state","users","items","messages","errorMessages","mapDispatch","dispatch","payload","type","UPDATE_USER","DELETE_USER","UPDATE_MODAL"],"mappings":"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","sourcesContent":["import React, {useContext, useState, useEffect} from 'react';\nimport {Link} from 'react-router-dom';\nimport {UserContext} from '../store/context/ContextManager';\nimport {connect} from 'react-redux';\nimport {actions} from '../actions';\nimport EditUserList from './EditUser';\nconst Td = ({metaData, data, updateUser, successUpdate, deleteUser, userState, updateModal}) => {\n\tconst {match} = metaData;\n\tconst [editable, setEditable] = useState(false);\n\tconst url = match.url;\n\tconst {name, avatar, _id, email} = data;\n\tconst {theme} = useContext(UserContext);\n\tconst updateUserName = async (e) => {\n\t\te.preventDefault();\n\t\tlet status = () => successUpdate;\n\t\tawait updateUser({\n\t\t\tid: _id,\n\t\t\tnewName: document.querySelector(`#UID-${_id}`).value,\n\t\t});\n\t\tstatus = () => {\n\t\t\tif (successUpdate) setEditable(false);\n\t\t};\n\t\treturn status;\n\t};\n\n\tconst editInput = !editable ? (\n\t\tname\n\t) : (\n\t\t<div>\n\t\t\t<input id={`UID-${_id}`} type=\"text\" defaultValue={name} style={{backgroundColor: '#ffeeef'}} className=\"m-2 p-2\" />\n\t\t\t<button className=\"material-icons btn btn-success btn-sm m-l-2\" onClick={(e) => updateUserName(e)}>\n\t\t\t\tcheck\n\t\t\t</button>\n\t\t\t<button className=\"material-icons btn btn-danger btn-sm \" onClick={(e) => setEditable(false)}>\n\t\t\t\tclose\n\t\t\t</button>\n\t\t</div>\n\t);\n\n\treturn (\n\t\t<tr>\n\t\t\t<td className={theme}>\n\t\t\t\t<img style={{width: '60px', height: '60px'}} src={avatar} alt=\"\" />\n\t\t\t</td>\n\t\t\t<td className={theme}>{editInput}</td>\n\t\t\t<td className={theme}>{email}</td>\n\t\t\t<td className={theme}>\n\t\t\t\t<Link to={`${url}/${_id}`}>\n\t\t\t\t\t<i className=\"material-icons\">link</i>\n\t\t\t\t</Link>\n\t\t\t</td>\n\t\t\t<td\n\t\t\t\tclassName={theme}\n\t\t\t\tonClick={(e) => {\n\t\t\t\t\tsetEditable(true);\n\t\t\t\t\t// updateModal({status: true, component: 'EditUser'});\n\t\t\t\t}}>\n\t\t\t\t<button class=\"material-icons\" style={{color: 'rgb(148, 150, 151)'}}>\n\t\t\t\t\tedit\n\t\t\t\t</button>\n\t\t\t</td>\n\t\t\t<td className={theme} onClick={(e) => deleteUser({id: _id})}>\n\t\t\t\t<button class=\"material-icons\" style={{color: 'rgb(148, 150, 151)'}}>\n\t\t\t\t\tdelete\n\t\t\t\t</button>\n\t\t\t</td>\n\t\t</tr>\n\t);\n};\n\nconst mapState = (state) => ({userState: state.users.items, messages: state.users.messages, errorMessages: state.users.errorMessages, successUpdate: state.users.successUpdate});\n\nconst mapDispatch = (dispatch) => {\n\treturn {\n\t\tupdateUser: (payload) => {\n\t\t\tdispatch({\n\t\t\t\ttype: actions.UPDATE_USER,\n\t\t\t\tpayload,\n\t\t\t});\n\t\t},\n\t\tdeleteUser: (payload) => {\n\t\t\tdispatch({\n\t\t\t\ttype: actions.DELETE_USER,\n\t\t\t\tpayload,\n\t\t\t});\n\t\t},\n\t\tupdateModal: (payload) => {\n\t\t\tdispatch({\n\t\t\t\ttype: actions.UPDATE_MODAL,\n\t\t\t\tpayload,\n\t\t\t});\n\t\t},\n\t};\n};\n\nexport default connect(mapState, mapDispatch)(Td);\n"]},"metadata":{},"sourceType":"module"}