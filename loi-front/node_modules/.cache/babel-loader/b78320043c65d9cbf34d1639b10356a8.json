{"ast":null,"code":"var _jsxFileName = \"/Users/omid/Documents/GitHub/listofinsta/loi-front/src/modules/App.jsx\";\nimport React, { Component } from 'react';\nimport Header from './header/Header';\nimport Tasks from './task/Tasks';\nimport Courses from './course/Courses';\nimport AddCourse from './add/AddCourse';\nimport AddList from './add/AddList';\nimport Axios from '../Ajax/Axios';\nimport Loader from './loader/Loader';\nexport class App extends React.PureComponent {\n  constructor() {\n    super(); // bind in ES2015\n    // this.componentHandler = this.componentHandler.bind(this);\n\n    this.addItem = item => {\n      this.setState(prev => {\n        return { ...prev,\n          is_loading: true\n        };\n      });\n      this.axios.post('http://localhost:5000/tasks/add', item).then(res => {\n        this.setState(prev => {\n          return { ...prev,\n            items: [...prev.items, res.data.item]\n          };\n        });\n      }).catch(err => {\n        console.log(err);\n      }).finally(() => {\n        this.setState(prev => {\n          return { ...prev,\n            is_loading: false\n          };\n        });\n      }); // this.setState((prev) => {\n      // \treturn {\n      // \t\t...prev,\n      // \t\titems: [...prev.items, item],\n      // \t};\n      // });\n    };\n\n    this.componentHandler = type => {\n      // const components = {\n      // \tadd: <Add tasksItem={this.addItem} />,\n      // \tlist: <Tasks tasks={this.state.items} />,\n      // \tcourse: <Courses />,\n      // };\n      // if (type in components) {\n      // this.setState({currenComponent: components[type]});\n      // }\n      this.setState({\n        type\n      });\n    };\n\n    this.state = {\n      items: [],\n      is_loading: false,\n      type: 'list',\n      filter: ''\n    };\n    this.axios = new Axios();\n  }\n\n  //dar vc tozih dadam\n  // componentDidUpdate(prevProps, prevState) {\n  // \tif (prevState.items.length < this.state.items.length) {\n  // \t\tconsole.log('is less');\n  // \t}\n  // }\n  componentDidMount() {\n    this.axios.get('http://localhost:5000/tasks/add').then(res => {\n      console.log(res.data.items);\n      this.setState({\n        items: res.data.items\n      });\n    }).catch(err => console.log(err));\n  }\n\n  render() {\n    const loading = this.state.is_loading ? /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 43\n      }\n    }) : null; // const components = this.state.type === 'add' ? <Add tasksItem={this.addItem} /> : <Tasks tasks={this.state.items} />;\n\n    const components = () => {\n      switch (this.state.type) {\n        case 'addCourse':\n          return /*#__PURE__*/React.createElement(AddCourse, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 13\n            }\n          });\n\n        case 'addList':\n          return /*#__PURE__*/React.createElement(AddList, {\n            tasksItem: this.addItem,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 13\n            }\n          });\n\n        case 'list':\n          return /*#__PURE__*/React.createElement(Tasks, {\n            tasks: this.state.items,\n            render: this.componentHandler,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 13\n            }\n          });\n\n        case 'course':\n          return /*#__PURE__*/React.createElement(Courses, {\n            render: this.componentHandler,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 13\n            }\n          });\n\n        default:\n          break;\n      }\n    };\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"wrapper\",\n      className: \"rtl\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      render: this.componentHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 6\n      }\n    }), loading, components()));\n  }\n\n}\nexport default App;","map":{"version":3,"sources":["/Users/omid/Documents/GitHub/listofinsta/loi-front/src/modules/App.jsx"],"names":["React","Component","Header","Tasks","Courses","AddCourse","AddList","Axios","Loader","App","PureComponent","constructor","addItem","item","setState","prev","is_loading","axios","post","then","res","items","data","catch","err","console","log","finally","componentHandler","type","state","filter","componentDidMount","get","render","loading","components"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport Header from './header/Header';\nimport Tasks from './task/Tasks';\nimport Courses from './course/Courses';\nimport AddCourse from './add/AddCourse';\nimport AddList from './add/AddList';\nimport Axios from '../Ajax/Axios';\nimport Loader from './loader/Loader';\n\nexport class App extends React.PureComponent {\n\tconstructor() {\n\t\tsuper();\n\t\t// bind in ES2015\n\t\t// this.componentHandler = this.componentHandler.bind(this);\n\t\tthis.state = {\n\t\t\titems: [],\n\t\t\tis_loading: false,\n\t\t\ttype: 'list',\n\t\t\tfilter: '',\n\t\t};\n\t\tthis.axios = new Axios();\n\t}\n\n\taddItem = (item) => {\n\t\tthis.setState((prev) => {\n\t\t\treturn {\n\t\t\t\t...prev,\n\t\t\t\tis_loading: true,\n\t\t\t};\n\t\t});\n\t\tthis.axios\n\t\t\t.post('http://localhost:5000/tasks/add', item)\n\t\t\t.then((res) => {\n\t\t\t\tthis.setState((prev) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...prev,\n\t\t\t\t\t\titems: [...prev.items, res.data.item],\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t})\n\t\t\t.finally(() => {\n\t\t\t\tthis.setState((prev) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...prev,\n\t\t\t\t\t\tis_loading: false,\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t});\n\t\t// this.setState((prev) => {\n\t\t// \treturn {\n\t\t// \t\t...prev,\n\t\t// \t\titems: [...prev.items, item],\n\t\t// \t};\n\t\t// });\n\t};\n\n\tcomponentHandler = (type) => {\n\t\t// const components = {\n\t\t// \tadd: <Add tasksItem={this.addItem} />,\n\t\t// \tlist: <Tasks tasks={this.state.items} />,\n\t\t// \tcourse: <Courses />,\n\t\t// };\n\t\t// if (type in components) {\n\t\t// this.setState({currenComponent: components[type]});\n\t\t// }\n\t\tthis.setState({type});\n\t};\n\t//dar vc tozih dadam\n\t// componentDidUpdate(prevProps, prevState) {\n\t// \tif (prevState.items.length < this.state.items.length) {\n\t// \t\tconsole.log('is less');\n\t// \t}\n\t// }\n\tcomponentDidMount() {\n\t\tthis.axios\n\t\t\t.get('http://localhost:5000/tasks/add')\n\t\t\t.then((res) => {\n\t\t\t\tconsole.log(res.data.items);\n\t\t\t\tthis.setState({\n\t\t\t\t\titems: res.data.items,\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((err) => console.log(err));\n\t}\n\n\trender() {\n\t\tconst loading = this.state.is_loading ? <Loader /> : null;\n\t\t// const components = this.state.type === 'add' ? <Add tasksItem={this.addItem} /> : <Tasks tasks={this.state.items} />;\n\t\tconst components = () => {\n\t\t\tswitch (this.state.type) {\n\t\t\t\tcase 'addCourse':\n\t\t\t\t\treturn <AddCourse />;\n\t\t\t\tcase 'addList':\n\t\t\t\t\treturn <AddList tasksItem={this.addItem} />;\n\t\t\t\tcase 'list':\n\t\t\t\t\treturn <Tasks tasks={this.state.items} render={this.componentHandler} />;\n\t\t\t\tcase 'course':\n\t\t\t\t\treturn <Courses render={this.componentHandler} />;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t};\n\n\t\treturn (\n\t\t\t<div id=\"wrapper\" className=\"rtl\">\n\t\t\t\t<div id=\"container\">\n\t\t\t\t\t<Header render={this.componentHandler} />\n\t\t\t\t\t{loading}\n\t\t\t\t\t{components()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}